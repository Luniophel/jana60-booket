<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Document</title>
</head>
<body>
    <h1>Modifica il tuo fantastico evento sponsorizzato da noi:</h1>


    <hr/>
	<form
   id = "formEvent"
   th:object="${event}"
   th:action="@{/addEvent}"
   method="POST"
   class=" m-auto"
   >
  <div class="row m-auto text-center">
  	<input type="hidden" th:field="*{id}">
    <div class="mb-3 col-3">
      <input type="text" id="name" class="form-control" th:field="*{name}"  placeholder="Nome Evento" th:errorClass="is-invalid">
      <div th:if="${#fields.hasErrors('name')}" class="invalid-feedback">
        <ul>
          <li th:each="err : ${#fields.errors('nome')}" th:text="${err}">
        </ul>
      </div>
    </div>
    <div class="mb-3 col-3">
      <input type="text" id="description" class="form-control" th:field="*{description}" placeholder="Descrizione" th:errorClass="is-invalid">
      <div th:if="${#fields.hasErrors('description')}" class="invalid-feedback">
        <ul>
          <li th:each="err : ${#fields.errors('descrizione')}" th:text="${err}">
        </ul>
      </div>
    </div>
    <div class="mb-3 col-3">
      <input type="date" id="startDate" class="form-control" th:field="*{startDate}"  th:errorClass="is-invalid">
      <div th:if="${#fields.hasErrors('startDate')}" class="invalid-feedback">
        <ul>
          <li th:each="err : ${#fields.errors('startDate')}" th:text="${err}">
        </ul>
      </div>
    </div>
    <div class="mb-3 col-3">
        <input type="date" id="endDate" class="form-control" th:field="*{endDate}"  th:errorClass="is-invalid">
        <div th:if="${#fields.hasErrors('endDate')}" class="invalid-feedback">
          <ul>
            <li th:each="err : ${#fields.errors('endDate')}" th:text="${err}">
          </ul>
        </div>
      </div>
      <div></div>
      <fieldset>
        <legend>Inserisci lo stato di publicazione:</legend>
    
        <div>
          <input type="radio" id="publishedStatus" name="publishedStatus" value="true"
                 checked>
          <label for="activeted">Attivo</label>
        </div>
    
        <div>
          <input type="radio"  id="publishedStatus" name="publishedStatus" value="false"> 
          <label for="notActived">Disattivo</label>
        </div>
    </fieldset>

       <fieldset>
        <legend>Inserisci lo stato di visibilitá:</legend>
          <input type="radio" id="visible" name="visible" value="true"
                 checked>
          <label for="activeted">Visibile</label>
        </div>
        <div>
          <input type="radio"  id="visible" name="visible" value="false"> 
          <label for="activeted">Non Visibile</label>
        </div>
      </fieldset>
      </div>

    <div class="col-4">
				<h4>Categorie</h4>
				<div class="form-check" th:each="i : ${categoriesList}">
				  <input class="form-check-input" type="checkbox" th:field="*{categories}" th:id="|${i.id}|" th:value="${i.id}">
				  <label class="form-check-label" th:for="|${i.id}|" th:text="${i.name}"></label>
				</div>


<!--ATTENZIONE PROVA IMG FORM-->   
<div class="container col-6">
  <form 
    id="form-img" 
    th:object="${imageForm}"
    th:action="@{/{id}/image/save}" 
    method="POST"
    enctype="multipart/form-data"
    >
    <input type="hidden" th:field="*{imageEvent}">
    <input type="hidden" th:field="*{id}">
    <div class="mb-3 d-flex">
      <label for="contentMultipart" class="form-label"></label>
      <input class="form-control" type="file" id="contentMultipart" th:field="*{contentMultipart}">
      <button class="btn btn-warning" type="submit">Save</button>
    </div>
  </form>
</div>
  <!--  fine form -->
  <div class="container col-6 py-5">
      <h1 class="text-center">La lista Ã¨ vuota.</h1>
    </div>
  <!--  inizio lista (model attribute immagineList) -->
  <div class="row">
    <div class="col-4" th:each="img : ${imageList}">
      <!-- Card -->
      <div class="my-5 mx-2">
          <!-- Header -->
        <img th:src="@{|/{imageId}/content|}" class="img-fluid image-controller" alt="">
        <!-- Footer -->
        <div class="bg-dark text-center rounded-bottom py-2">
            </div>
      </div>
    </div>
  </div>
  
  <!--  fine lista -->


 <div class="container col-6">            
	</div>
	  <div class="mb-3 ml-5">
  	<button type="submit" class="btn btn-primary">Save</button>
  	<a class="btn btn-danger" href="">Cancel</a>
  </div>
</body>
</html>